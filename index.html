<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Books Search App</title>
    <link rel="stylesheet prefetch" href="https://fonts.googleapis.com/css?family=Coda">
    <link rel="stylesheet" href="css/app.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js">
    	
    </script>
</head>

<body>

	<div class="search-area">
		
		<form id="form">

			<label for="search">Book Search</label>
			<br>
			<input type="search" id="book">
			<br>
			<button id="search-button" type="button">Find Books</button>

		</form>
		
	</div>
	
	
	
	<div id="results">
		
	</div>


</body>

<script>

	$(document).ready(function(){

	$("#form").submit(function(){

		var searchTerms = $("#book").val();

		if (searchTerms === '') {

			alert ("Please enter text into the search field.");

		} else {

			var title = "";
			var author = "";
			var img = "";
			var url = "";

			
			$.get("https://www.googleapis.com/books/v1/volumes?q=" + searchTerms, function(response){
				console.log(response);
				
				// for loop to get relevant book info from JSON file

				for(i=0; i<response.items.length; i++) {

					title = $("<h3>" + response.items[i].volumeInfo.title + "</h3>");
					author = $("<h5>Author(s): " + response.items[i].volumeInfo.authors + "</h5>");
					img = $("<img class='bookcover'><br><a href=" + response.items[i].volumeInfo.infoLink + "><button id='cover-button'>More info</button></a>")
					url = response.items[i].volumeInfo.imageLinks.thumbnail;

					//adds the newly found data to results section 

					img.attr("src", url); 

					title.appendTo("#results");

					author.appendTo("#results");
					
					img.appendTo("#results");
				}

			});

		}

	return false;

	});
});

</script>

</html>
